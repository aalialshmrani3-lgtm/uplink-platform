/**
 * Seed script for UPLINK 1 - Ideas only
 * Adds comprehensive demo data for testing the platform
 */

import mysql from 'mysql2/promise';

const DATABASE_URL = process.env.DATABASE_URL;

if (!DATABASE_URL) {
  console.error('‚ùå DATABASE_URL not found in environment');
  process.exit(1);
}

async function seedIdeas() {
  console.log('üå± Starting UPLINK 1 seed process...');
  
  const connection = await mysql.createConnection(DATABASE_URL);
  
  try {
    // Check existing ideas count
    const [rows] = await connection.query('SELECT COUNT(*) as count FROM ideas');
    const existingCount = rows[0].count;
    
    if (existingCount > 0) {
      console.log(`\n‚ö†Ô∏è  Found ${existingCount} existing ideas. Clearing table...`);
      await connection.query('DELETE FROM ideas');
      console.log('‚úÖ Table cleared');
    }
    
    console.log('\nüìù Seeding UPLINK 1 - Ideas...');
    
    const ideasSQL = `
      INSERT INTO ideas (userId, title, description, category, status)
      VALUES
        -- High-scoring approved ideas (Innovation)
        (1, 'ŸÜÿ∏ÿßŸÖ ÿ∞ŸÉÿßÿ° ÿßÿµÿ∑ŸÜÿßÿπŸä ŸÑÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑŸÖÿ™ÿ¨ÿØÿØÿ©', 'ŸÖŸÜÿµÿ© ŸÖÿ™ŸÇÿØŸÖÿ© ÿ™ÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸàÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ¢ŸÑŸä ŸÑÿ™ÿ≠ÿ≥ŸäŸÜ ÿßÿ≥ÿ™ŸáŸÑÿßŸÉ ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑÿ¥ŸÖÿ≥Ÿäÿ© ŸÅŸä ÿßŸÑŸÖÿ®ÿßŸÜŸä ÿßŸÑÿ≥ŸÉŸÜŸäÿ© ŸàÿßŸÑÿ™ÿ¨ÿßÿ±Ÿäÿ© ŸÖŸÜ ÿÆŸÑÿßŸÑ ÿßŸÑÿ™ŸÜÿ®ÿ§ ÿ®ÿ£ŸÜŸÖÿßÿ∑ ÿßŸÑÿßÿ≥ÿ™ŸáŸÑÿßŸÉ Ÿàÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ŸàÿßŸÑÿ™Ÿàÿ≤Ÿäÿπ', 'ÿ™ŸÇŸÜŸäÿ©', 'approved'),
        (1, 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ∞ŸÉŸä ŸÑŸÑÿ™ÿ¥ÿÆŸäÿµ ÿßŸÑÿ∑ÿ®Ÿä ÿßŸÑŸÖÿ®ŸÉÿ±', 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ∑ÿ®Ÿä Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä Ÿàÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿµŸàÿ± ÿßŸÑÿ∑ÿ®Ÿäÿ© ŸàÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ≠ŸäŸàŸäÿ© ŸÑŸÑŸÉÿ¥ŸÅ ÿßŸÑŸÖÿ®ŸÉÿ± ÿπŸÜ ÿßŸÑÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÖÿ≤ŸÖŸÜÿ© ŸÖÿ´ŸÑ ÿßŸÑÿ≥ŸÉÿ±Ÿä Ÿàÿ£ŸÖÿ±ÿßÿ∂ ÿßŸÑŸÇŸÑÿ® ŸàÿßŸÑÿ≥ÿ±ÿ∑ÿßŸÜ', 'ÿµÿ≠ÿ©', 'approved'),
        (1, 'ÿ™ŸÇŸÜŸäÿ© ÿ™ÿ≠ŸÑŸäÿ© ÿßŸÑŸÖŸäÿßŸá ÿ®ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑÿ¥ŸÖÿ≥Ÿäÿ©', 'ŸÜÿ∏ÿßŸÖ ÿ™ÿ≠ŸÑŸäÿ© ŸÖŸäÿßŸá ŸÖÿ®ÿ™ŸÉÿ± ŸäÿπŸÖŸÑ ÿ®ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑÿ¥ŸÖÿ≥Ÿäÿ© ÿ®ÿ™ŸÉŸÑŸÅÿ© ŸÖŸÜÿÆŸÅÿ∂ÿ© ŸàŸÖŸÜÿßÿ≥ÿ® ŸÑŸÑŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑŸÜÿßÿ¶Ÿäÿ© ŸàÿßŸÑÿµÿ≠ÿ±ÿßŸàŸäÿ© ŸÖÿπ ÿ™ŸÇŸÜŸäÿ© ÿ™ŸÜŸÇŸäÿ© ŸÖÿ™ŸÇÿØŸÖÿ©', 'ÿ®Ÿäÿ¶ÿ©', 'approved'),
        (1, 'ŸÜÿ∏ÿßŸÖ ÿ£ŸÖŸÜ ÿ≥Ÿäÿ®ÿ±ÿßŸÜŸä ŸÖÿ™ŸÇÿØŸÖ ŸÑŸÑÿ¥ÿ±ŸÉÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ©', 'ÿ≠ŸÑ ÿ£ŸÖŸÜŸä ŸÖÿ™ŸÉÿßŸÖŸÑ Ÿäÿ≠ŸÖŸä ÿßŸÑÿ¥ÿ±ŸÉÿßÿ™ ÿßŸÑÿµÿ∫Ÿäÿ±ÿ© ŸàÿßŸÑŸÖÿ™Ÿàÿ≥ÿ∑ÿ© ŸÖŸÜ ÿßŸÑŸáÿ¨ŸÖÿßÿ™ ÿßŸÑÿ≥Ÿäÿ®ÿ±ÿßŸÜŸäÿ© ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸàÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ¢ŸÑŸä ŸÑÿßŸÉÿ™ÿ¥ÿßŸÅ ÿßŸÑÿ™ŸáÿØŸäÿØÿßÿ™', 'ÿ£ŸÖŸÜ ÿ≥Ÿäÿ®ÿ±ÿßŸÜŸä', 'approved'),
        (1, 'ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ ÿßŸÑÿ∞ŸÉŸä', 'ŸÜÿ∏ÿßŸÖ ŸÖÿ™ÿ∑Ÿàÿ± Ÿäÿ≥ÿ™ÿÆÿØŸÖ IoT ŸàÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸÑÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ŸÅŸä ÿßŸÑŸÖÿ≥ÿ™ŸàÿØÿπÿßÿ™ ŸàÿßŸÑŸÖÿ™ÿßÿ¨ÿ± ŸÖÿπ ÿ™ŸÜÿ®ÿ§ ÿ®ÿßŸÑÿ∑ŸÑÿ® Ÿàÿ™ÿ≠ÿ≥ŸäŸÜ ÿ≥ŸÑÿ≥ŸÑÿ© ÿßŸÑÿ™Ÿàÿ±ŸäÿØ', 'ÿ™ŸÇŸÜŸäÿ©', 'approved'),
        
        -- Medium-scoring ideas
        (1, 'ŸÖŸÜÿµÿ© ÿ™ÿπŸÑŸäŸÖŸäÿ© ÿ™ŸÅÿßÿπŸÑŸäÿ© ŸÑŸÑÿ£ÿ∑ŸÅÿßŸÑ', 'ŸÖŸÜÿµÿ© ÿ™ÿπŸÑŸäŸÖŸäÿ© ŸÖÿ®ÿ™ŸÉÿ±ÿ© ÿ™ÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ£ŸÑÿπÿßÿ® ŸàÿßŸÑŸàÿßŸÇÿπ ÿßŸÑŸÖÿπÿ≤ÿ≤ ŸÑÿ™ÿπŸÑŸäŸÖ ÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ ÿßŸÑŸÖŸáÿßÿ±ÿßÿ™ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© ÿ®ÿ∑ÿ±ŸäŸÇÿ© ŸÖŸÖÿ™ÿπÿ© Ÿàÿ™ŸÅÿßÿπŸÑŸäÿ© ŸÖÿπ ŸÖÿ≠ÿ™ŸàŸâ ÿπÿ±ÿ®Ÿä ÿ£ÿµŸäŸÑ', 'ÿ™ÿπŸÑŸäŸÖ', 'approved'),
        (1, 'ÿ±Ÿàÿ®Ÿàÿ™ ÿÆÿØŸÖÿ© ÿπŸÖŸÑÿßÿ° ÿ∞ŸÉŸä', 'ÿ±Ÿàÿ®Ÿàÿ™ ŸÖÿ≠ÿßÿØÿ´ÿ© ŸÖÿ™ÿ∑Ÿàÿ± Ÿäÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ∑ÿ®ŸäÿπŸäÿ© ŸÑÿ™ŸÇÿØŸäŸÖ ÿÆÿØŸÖÿ© ÿπŸÖŸÑÿßÿ° ÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ© ÿ®ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿπŸÑŸâ ŸÖÿØÿßÿ± ÿßŸÑÿ≥ÿßÿπÿ© ŸÖÿπ ŸÅŸáŸÖ ÿ≥ŸäÿßŸÇ ÿßŸÑŸÖÿ≠ÿßÿØÿ´ÿ©', 'ÿ™ŸÇŸÜŸäÿ©', 'approved'),
        (1, 'ŸÖŸÜÿµÿ© ÿ™ŸÖŸàŸäŸÑ ÿ¨ŸÖÿßÿπŸä ŸÑŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿ•ÿ®ÿØÿßÿπŸäÿ©', 'ŸÖŸÜÿµÿ© ÿ±ŸÇŸÖŸäÿ© ÿ™ÿ±ÿ®ÿ∑ ÿßŸÑŸÖÿ®ÿØÿπŸäŸÜ ŸàÿßŸÑŸÅŸÜÿßŸÜŸäŸÜ ÿ®ÿßŸÑŸÖŸÖŸàŸÑŸäŸÜ ŸÑÿ™ŸÖŸàŸäŸÑ ÿßŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿ•ÿ®ÿØÿßÿπŸäÿ© ŸàÿßŸÑŸÅŸÜŸäÿ© ŸÅŸä ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ©', 'ŸÖÿßŸÑŸäÿ©', 'approved'),
        
        -- Ideas under analysis
        (1, 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ™ŸàÿµŸäŸÑ ÿ∑ÿπÿßŸÖ ÿµÿ≠Ÿä', 'ÿ™ÿ∑ÿ®ŸäŸÇ Ÿäÿ±ÿ®ÿ∑ ÿßŸÑŸÖÿ∑ÿßÿπŸÖ ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®ÿßŸÑÿπŸÖŸÑÿßÿ° ŸÖÿπ ŸÜÿ∏ÿßŸÖ ÿ™ŸàÿµŸäÿßÿ™ ÿ∫ÿ∞ÿßÿ¶Ÿäÿ© ŸÖÿÆÿµÿµÿ© ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑÿ≠ÿßŸÑÿ© ÿßŸÑÿµÿ≠Ÿäÿ© ŸàÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿäÿ©', 'ÿÆÿØŸÖÿßÿ™', 'analyzing'),
        (1, 'ŸÖŸÜÿµÿ© ÿ≠ÿ¨ÿ≤ ŸÖŸàÿßŸÇŸÅ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßŸÑÿ∞ŸÉŸäÿ©', 'ÿ™ÿ∑ÿ®ŸäŸÇ Ÿäÿ≥ÿßÿπÿØ ÿßŸÑÿ≥ÿßÿ¶ŸÇŸäŸÜ ŸÅŸä ÿ•Ÿäÿ¨ÿßÿØ Ÿàÿ≠ÿ¨ÿ≤ ŸÖŸàÿßŸÇŸÅ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ŸÅŸä ÿßŸÑŸÖÿØŸÜ ÿßŸÑŸÉÿ®ÿ±Ÿâ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿÆÿ±ÿßÿ¶ÿ∑ ÿ™ŸÅÿßÿπŸÑŸäÿ© Ÿàÿ≠ÿ¨ÿ≤ ŸÖÿ≥ÿ®ŸÇ', 'ÿÆÿØŸÖÿßÿ™', 'analyzing'),
        
        -- Draft ideas
        (1, 'ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿ≥ÿ≠ÿßÿ®Ÿä', 'ŸÖŸÜÿµÿ© ÿ≥ÿ≠ÿßÿ®Ÿäÿ© ŸÖÿ™ŸÉÿßŸÖŸÑÿ© ŸÑÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ŸàÿßŸÑŸÅÿ±ŸÇ ŸÖÿπ ÿ£ÿØŸàÿßÿ™ ÿ™ÿπÿßŸàŸÜ Ÿàÿ™ÿ™ÿ®ÿπ ÿßŸÑŸÖŸáÿßŸÖ Ÿàÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸàÿßÿ±ÿØ', 'ÿ™ŸÇŸÜŸäÿ©', 'draft'),
        (1, 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ™ÿπŸÑŸÖ ÿßŸÑŸÑÿ∫ÿßÿ™ ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä', 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ™ŸÅÿßÿπŸÑŸä ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑŸÑÿ∫ÿßÿ™ Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ŸÑÿ™ÿÆÿµŸäÿµ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿ≠ÿ≥ÿ® ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑŸÖÿ™ÿπŸÑŸÖ Ÿàÿ£ÿ≥ŸÑŸàÿ® ÿßŸÑÿ™ÿπŸÑŸÖ', 'ÿ™ÿπŸÑŸäŸÖ', 'draft'),
        (1, 'ŸÖŸÜÿµÿ© ÿ™ÿ¨ÿßÿ±ÿ© ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿ© ŸÑŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸÖÿ≠ŸÑŸäÿ©', 'ÿ≥ŸàŸÇ ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä Ÿäÿ±ÿ®ÿ∑ ÿßŸÑŸÖŸÜÿ™ÿ¨ŸäŸÜ ÿßŸÑŸÖÿ≠ŸÑŸäŸäŸÜ ÿ®ÿßŸÑŸÖÿ≥ÿ™ŸáŸÑŸÉŸäŸÜ ŸÖÿ®ÿßÿ¥ÿ±ÿ© ŸÑÿØÿπŸÖ ÿßŸÑÿßŸÇÿ™ÿµÿßÿØ ÿßŸÑŸÖÿ≠ŸÑŸä ŸàÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸàÿ∑ŸÜŸäÿ©', 'ÿ™ÿ¨ÿßÿ±ÿ©', 'draft'),
        
        -- Recently submitted
        (1, 'ŸÜÿ∏ÿßŸÖ ŸÖÿ±ÿßŸÇÿ®ÿ© ÿ¨ŸàÿØÿ© ÿßŸÑŸáŸàÿßÿ° ÿßŸÑÿ∞ŸÉŸä', 'ÿ¥ÿ®ŸÉÿ© ŸÖŸÜ ÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑÿßÿ≥ÿ™ÿ¥ÿπÿßÿ± ÿßŸÑÿ∞ŸÉŸäÿ© ŸÑŸÖÿ±ÿßŸÇÿ®ÿ© ÿ¨ŸàÿØÿ© ÿßŸÑŸáŸàÿßÿ° ŸÅŸä ÿßŸÑŸÖÿØŸÜ Ÿàÿ™ŸÇÿØŸäŸÖ ÿ™ŸÜÿ®ŸäŸáÿßÿ™ Ÿàÿ™ŸàÿµŸäÿßÿ™ ŸÑŸÑŸÖŸàÿßÿ∑ŸÜŸäŸÜ', 'ÿ®Ÿäÿ¶ÿ©', 'submitted'),
        (1, 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿµÿ≠ÿ© ÿßŸÑÿ¥ÿÆÿµŸäÿ©', 'ÿ™ÿ∑ÿ®ŸäŸÇ ÿ¥ÿßŸÖŸÑ ŸÑÿ™ÿ™ÿ®ÿπ ÿßŸÑÿµÿ≠ÿ© ÿßŸÑÿ¥ÿÆÿµŸäÿ© Ÿäÿ¥ŸÖŸÑ ÿßŸÑŸÜÿ¥ÿßÿ∑ ÿßŸÑÿ®ÿØŸÜŸä ŸàÿßŸÑÿ™ÿ∫ÿ∞Ÿäÿ© ŸàÿßŸÑŸÜŸàŸÖ ŸÖÿπ ÿ™ŸàÿµŸäÿßÿ™ ŸÖÿÆÿµÿµÿ©', 'ÿµÿ≠ÿ©', 'submitted')
    `;
    
    await connection.query(ideasSQL);
    console.log('‚úÖ Inserted 15 ideas with various statuses');
    
    // Show summary by status
    const [summary] = await connection.query(`
      SELECT status, COUNT(*) as count 
      FROM ideas 
      GROUP BY status
      ORDER BY count DESC
    `);
    
    console.log('\nüìä Ideas Summary by Status:');
    summary.forEach(row => {
      console.log(`   - ${row.status}: ${row.count} ideas`);
    });
    
    console.log('\n‚úÖ UPLINK 1 seed completed successfully!');
    console.log('üéâ Platform now has comprehensive demo data for testing');
    
  } catch (error) {
    console.error('‚ùå Error seeding data:', error);
    throw error;
  } finally {
    await connection.end();
  }
}

seedIdeas()
  .then(() => {
    console.log('\n‚úÖ Seeding process finished successfully');
    process.exit(0);
  })
  .catch((error) => {
    console.error('\n‚ùå Seeding process failed:', error);
    process.exit(1);
  });
